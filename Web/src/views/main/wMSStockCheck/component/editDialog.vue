<template>
	<div class="wMSStockCheck-container">
		<el-dialog v-model="isShowDialog" :title="props.title" :width="700" draggable="">
			<el-form :model="ruleForm" ref="ruleFormRef" size="default" label-width="100px" :rules="rules">
				<el-row :gutter="35">
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Id" prop="id">
							<el-input v-model="ruleForm.id" placeholder="请输入Id" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="StockCheckNumber" prop="stockCheckNumber">
							<el-input v-model="ruleForm.stockCheckNumber" placeholder="请输入StockCheckNumber" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="外部单号" prop="externNumber">
							<el-input v-model="ruleForm.externNumber" placeholder="请输入外部单号" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="客户ID" prop="customerId">
							<el-input v-model="ruleForm.customerId" placeholder="请输入客户ID" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="客户名称" prop="customerName">
							<el-input v-model="ruleForm.customerName" placeholder="请输入客户名称" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="WarehouseId" prop="warehouseId">
							<el-input v-model="ruleForm.warehouseId" placeholder="请输入WarehouseId" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="WarehouseName" prop="warehouseName">
							<el-input v-model="ruleForm.warehouseName" placeholder="请输入WarehouseName" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="StockCheckDate" prop="stockCheckDate">
							<el-date-picker v-model="ruleForm.stockCheckDate" type="date" placeholder="StockCheckDate" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="StockCheckType" prop="stockCheckType">
							<el-input v-model="ruleForm.stockCheckType" placeholder="请输入StockCheckType" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="StockCheckStatus" prop="stockCheckStatus">
							<el-input-number v-model="ruleForm.stockCheckStatus" placeholder="请输入StockCheckStatus" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="ToCheckUser" prop="toCheckUser">
							<el-input v-model="ruleForm.toCheckUser" placeholder="请输入ToCheckUser" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="ToCheckAccount" prop="toCheckAccount">
							<el-input v-model="ruleForm.toCheckAccount" placeholder="请输入ToCheckAccount" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="备注" prop="remark">
							<el-input v-model="ruleForm.remark" placeholder="请输入备注" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="是否存在差异(默认0 1为无差异 0为存在差异)" prop="is_Difference">
							<el-input v-model="ruleForm.is_Difference" placeholder="请输入是否存在差异(默认0 1为无差异 0为存在差异)" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="差异是否处理（X，Y ）" prop="is_Deal">
							<el-input v-model="ruleForm.is_Deal" placeholder="请输入差异是否处理（X，Y ）" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="创建人" prop="creator">
							<el-input v-model="ruleForm.creator" placeholder="请输入创建人" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="创建时间" prop="creationTime">
							<el-date-picker v-model="ruleForm.creationTime" type="date" placeholder="创建时间" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="更新人" prop="updator">
							<el-input v-model="ruleForm.updator" placeholder="请输入更新人" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str1" prop="str1">
							<el-input v-model="ruleForm.str1" placeholder="请输入Str1" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str2" prop="str2">
							<el-input v-model="ruleForm.str2" placeholder="请输入Str2" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str3" prop="str3">
							<el-input v-model="ruleForm.str3" placeholder="请输入Str3" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str4" prop="str4">
							<el-input v-model="ruleForm.str4" placeholder="请输入Str4" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str5" prop="str5">
							<el-input v-model="ruleForm.str5" placeholder="请输入Str5" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str6" prop="str6">
							<el-input v-model="ruleForm.str6" placeholder="请输入Str6" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str7" prop="str7">
							<el-input v-model="ruleForm.str7" placeholder="请输入Str7" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str8" prop="str8">
							<el-input v-model="ruleForm.str8" placeholder="请输入Str8" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str9" prop="str9">
							<el-input v-model="ruleForm.str9" placeholder="请输入Str9" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Str10" prop="str10">
							<el-input v-model="ruleForm.str10" placeholder="请输入Str10" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="DateTime1" prop="dateTime1">
							<el-date-picker v-model="ruleForm.dateTime1" type="date" placeholder="DateTime1" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="DateTime2" prop="dateTime2">
							<el-date-picker v-model="ruleForm.dateTime2" type="date" placeholder="DateTime2" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="DateTime3" prop="dateTime3">
							<el-date-picker v-model="ruleForm.dateTime3" type="date" placeholder="DateTime3" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="DateTime4" prop="dateTime4">
							<el-date-picker v-model="ruleForm.dateTime4" type="date" placeholder="DateTime4" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="DateTime5" prop="dateTime5">
							<el-date-picker v-model="ruleForm.dateTime5" type="date" placeholder="DateTime5" />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Int1" prop="int1">
							<el-input-number v-model="ruleForm.int1" placeholder="请输入Int1" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Int2" prop="int2">
							<el-input-number v-model="ruleForm.int2" placeholder="请输入Int2" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Int3" prop="int3">
							<el-input-number v-model="ruleForm.int3" placeholder="请输入Int3" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Int4" prop="int4">
							<el-input-number v-model="ruleForm.int4" placeholder="请输入Int4" clearable />
							
						</el-form-item>
						
					</el-col>
					<el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12" class="mb20">
						<el-form-item label="Int5" prop="int5">
							<el-input-number v-model="ruleForm.int5" placeholder="请输入Int5" clearable />
							
						</el-form-item>
						
					</el-col>
				</el-row>
			</el-form>
			<template #footer>
				<span class="dialog-footer">
					<el-button @click="cancel" size="default">取 消</el-button>
					<el-button type="primary" @click="submit" size="default">确 定</el-button>
				</span>
			</template>
		</el-dialog>
	</div>
</template>

<script lang="ts" setup>
	import { ref,onMounted } from "vue";
	import { ElMessage } from "element-plus";
	import type { FormRules } from "element-plus";
	import { addWMSStockCheck, updateWMSStockCheck } from "/@/api/main/wMSStockCheck";
	//父级传递来的参数
	var props = defineProps({
	title: {
	type: String,
	default: "",
	},
	});
	//父级传递来的函数，用于回调
	const emit = defineEmits(["reloadTable"]);
	const ruleFormRef = ref();
	const isShowDialog = ref(false);
	const ruleForm = ref<any>({});
		//自行添加其他规则
		const rules = ref<FormRules>({
});

// 打开弹窗
const openDialog = (row: any) => {
  ruleForm.value = JSON.parse(JSON.stringify(row));
  isShowDialog.value = true;
};

// 关闭弹窗
const closeDialog = () => {
  emit("reloadTable");
  isShowDialog.value = false;
};

// 取消
const cancel = () => {
  isShowDialog.value = false;
};

// 提交
const submit = async () => {
  ruleFormRef.value.validate(async (isValid: boolean, fields?: any) => {
    if (isValid) {
      let values = ruleForm.value;
      if (ruleForm.value.id != undefined && ruleForm.value.id > 0) {
        await updateWMSStockCheck(values);
      } else {
        await addWMSStockCheck(values);
      }
      closeDialog();
    } else {
      ElMessage({
        message: `表单有${Object.keys(fields).length}处验证失败，请修改后再提交`,
        type: "error",
      });
    }
  });
};





// 页面加载时
onMounted(async () => {
});

//将属性或者函数暴露给父组件
defineExpose({ openDialog });
</script>




